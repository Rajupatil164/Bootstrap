<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order Success - MyShop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">MyShop</a>
      <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav6">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="nav6" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="products.html">Products</a></li>
          <li class="nav-item"><a class="nav-link" href="cart.html">Cart <span id="cart-count" class="badge bg-warning">0</span></a></li>
          <li class="nav-item"><a class="nav-link" href="account.html">Account</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container text-center my-5">
    <img src="https://img.icons8.com/fluency/96/000000/checked.png" alt="success">
    <h2 class="mt-3">Thank you for your order! ðŸŽ‰</h2>
    <p>Your order has been placed successfully. Below are your order details:</p>

    <div id="order-details" class="text-start mx-auto mt-4" style="max-width:700px;">
      <!-- Injected by JS below -->
    </div>

    <a href="products.html" class="btn btn-primary mt-4">Continue Shopping</a>
  </div>

  <footer class="bg-dark text-white text-center py-3">
    <p>&copy; 2025 MyShop. All Rights Reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/script.js"></script>
  <script>
    // Render last order details from localStorage
    const data = localStorage.getItem("lastOrder");
    const box = document.getElementById("order-details");
    if (data && box) {
      const order = JSON.parse(data);
      let html = `
        <h4>Customer Information</h4>
        <p><strong>Name:</strong> ${order.customer.name}</p>
        <p><strong>Email:</strong> ${order.customer.email}</p>
        <p><strong>Address:</strong> ${order.customer.address}</p>
        <p><strong>Payment Method:</strong> ${order.payment}</p>
        <p><strong>Date:</strong> ${order.date}</p>
        <hr/>
        <h4>Items Ordered</h4>
        <ul class="list-group mb-3">
      `;
      let total = 0;
      order.items.forEach(it => {
        const line = it.price * it.quantity;
        total += line;
        html += `<li class="list-group-item d-flex justify-content-between align-items-center">
          ${it.name} (x${it.quantity}) <span>â‚¹${line}</span>
        </li>`;
      });
      html += `</ul><h5 class="text-end">Order Total: â‚¹${total}</h5>`;
      box.innerHTML = html;

      // Optional: clear stored order after showing it
      localStorage.removeItem("lastOrder");
    }
  </script>
</body>
</html>
